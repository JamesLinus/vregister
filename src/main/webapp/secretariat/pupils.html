<!DOCTYPE html>
<html>
    <body class="lift:content_id=main">
        <div id="main" class="lift:surround?with=secret;at=content">
            <head_merge><link rel="stylesheet" type="text/css" href="/style/register.css" />
               <script type="text/javascript" charset="utf-8" src="/jquery/datatables_operation.js"></script>
                <script type="text/javascript" charset="utf-8" src="/jquery/myvalidation.js"></script>
                <script type="text/javascript" charset="utf-8">
                
                $(document).ready(function(){
                    init_dataTable();
               
                    $('#formAdd').dialog({
                        autoOpen : false,
                        height : 350,
                        width : 500,
                        modal : true
                    });
 
                    
                    $dTable.insertData = function (data) {
                        $dTable.idInput.value = data[0];
                        document.getElementById('lastname').value = data[1];
                        document.getElementById('firstname').value = data[2];
                        document.getElementById('birthdate').value = data[3];
                        document.getElementById('pesel').value = data[4];
                        var select = document.getElementById('classInfo');
                        setSelectedIndexWithInner(select,data[3]);
                       
                    }
                    
                    $dTable.getDataArray = function(id){
                        var array = new Array();
                        array[0] = id.toString();
                        array[1] = document.getElementById('lastname').value;
                        array[2] = document.getElementById('firstname').value;                  
                        array[3] = document.getElementById('birthdate').value;
                        array[4] = document.getElementById('pesel').value;
                        var select = document.getElementById('classInfo');
                        array[5] = select.options[select.selectedIndex].innerHTML;
                        return array;
                    }    
                    
                    $( "#birthdate" ).datepicker({
                        changeMonth: true,
                        changeYear: true,
                        yearRange: '1980:2010' ,
                        defaultDate: '-14y',
                        dateFormat: 'yy-mm-dd',
                        prevText : "poprzedni",
                        nextText : "następny",
                        dayNamesMin: ['Ni','Po','Wt','Śr','Cz','Pi','So'],
                        monthNamesShort: ['Sty','Lut','Mar','Kwi','Maj','Cze','Lip','Sie', 'Wrz','Paź','Lis','Gru'] 
                    });
                                
                });
                
               
                
                
                function validateForm() {
                    return true;
                }
                
                function getNext(){
                	var n1 = $('#fullList tbody tr')[0];
                	var tr = $dTable.fnGetAdjacentTr( n1 );
                	alert(tr);
                }
               
                </script>
                <style >
                    #errorInfo { font-style: italic; font-weight: bold; color: red;}
                    .scratched td {text-decoration: line-through;}
                    label {width: 150px;}
                </style>
            </head_merge>

           <div class="submenu">
</div>
            <div class="container_12">              
                
                <div class="lift:PupilSn.editAjax" id="formAdd" style="display: none;" title="Dodawanie nowych użytkowników">
                <form  method="POST">
               <p><label for="id">Id:</label>
                  <input id="id" type="text" />
                </p> 
               <p><label for="lastname">Nazwisko:</label>
                  <input id="lastname" /><br/>
                  <span id="lastnameinfo" class="errorInfo"></span>
                </p>
                <p><label for="fistname">Imię:</label>
                   <input id="firstname" type="text"  maxlength="20"/><br/>
                   <span id="firstnameinfo" class="errorInfo"></span>
                </p>
                <p><label for="birthdate">Data urodzenia:</label>
                  <input id="birthdate" />
                                  <br/>
                  <span id="birthdateinfo" class="errorInfo"></span>
                </p>
                <p><label for="pesel">PESEL:</label>
                   <input id="pesel" maxlength="11"/><br/>
                   <span id="peselinfo" class="errorInfo"></span>
                </p>
                <p><label for="classInfo">Klasa:</label>
                   <input id="classInfo" maxlength="11"/><br/>
                   <span id="classInfoinfo" class="errorInfo"></span>
                </p>
                <p><input type="image" src="/style/images/previco.png" onclick="$dTable.getPrevious();" id="preview"/>
                    <input type="image"  src="/style/images/saveico.png"  id="save"/>
                    <input type="image" src="/style/images/delico.png" id="delete"/>
                    <input type="image" src="/style/images/resetico.png" onclick="resetForm();" id="reset"/>
                    <input type="image" src="/style/images/nextico.png" onclick="$dTable.getNext();" id="next"/>                
                </p>
                <p id="addInfo"></p>
                </form>
                </div>

                <h3>Przegląd i edycja nauczycieli </h3><hr />
                <input type="image" src="/style/images/addico.png" onclick="showAddRow()" />
                
                
                <table id="fullList" class="display" border="0" cellpadding="2" cellspacing="2" >
                    <thead>
                        <tr><th>ID</th><th>Nazwisko</th><th>Imię</th>
                            <th>Data urodzenia</th><th>PESEL</th><th>Klasa</th>
                        </tr>
                    </thead>

                    <tbody class="lift:PupilSn.pupilList">
                        <tr >
                            <td class="id"></td>
                            <td  class="lastname"></td>
                            <td  class="firstname"></td>
                            <td class="birthdate"></td>
                            <td class="pesel"></td>
                            <td class="classInfo"></td>
                        </tr>
                    </tbody>
                </table>
              
                </div>
                  <input type="button" value="test" onclick="getNext()"/>
</div>
</body>
</html>
              